<h1 class = "text-center">ユーザー管理画面</h1>
<%= form_with(local: true, method: :get, url: new_admin_user_path ) do |f| %>
   <%= f.hidden_field :admin , value: "true" %>
   <button class = "btn btn-info">ユーザーを新規作成する</button>
<% end %>
<table class = "table table-striped mt-4">
  <thead>
    <tr>
      <th>id</th>
      <th>ユーザー名</th>
      <th>タスク数</th>
      <th>編集</th>
      <th>削除</th>
      <th>ユーザーのタスク一覧</th>
    </tr>
  </thead>
  <% @users.each do |user| %>
    <tr>
      <td><%= user.id %></td>
      <td><%= user.name %></td>
      <td><%= user.tasks.select(:id).count %>
      <td>
         <%= link_to edit_admin_user_path(user) do %>
            <button class = "btn btn-primary">編集</button>
         <% end %>
      </td>
      <td>
         <%= link_to "削除", admin_user_path(user), method: :delete, data: {confirm: "削除しますか?"} , class: "btn btn-danger" %>
      </td>
      <td>
        <%= link_to "一覧", root_path, class: "btn btn-success"%>
      </td>
    </tr>
  <% end %>
</table>